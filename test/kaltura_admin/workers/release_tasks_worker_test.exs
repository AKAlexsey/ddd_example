defmodule CtiKaltura.Workers.ReleaseTasksWorkerTest do
  use CtiKaltura.DataCase
  #  alias CtiKaltura.ReleaseTasks
  #  alias CtiKaltura.Workers.ReleaseTasksWorker
  #  import Mock

  # TODO по какой-то причине тест сломался
  #  describe "#init" do
  #    test "Request models from CtiKaltura" do
  #      with_mock(
  #        ReleaseTasks,
  #        cache_domain_model: fn -> :ok end
  #      ) do
  #        ReleaseTasksWorker.start_link([])
  #        :timer.sleep(Application.get_env(:cti_kaltura, :after_start_callback_timeout) + 100)
  #
  #        assert_called(ReleaseTasks.cache_domain_model())
  #      end
  #    end
  #  end
end
